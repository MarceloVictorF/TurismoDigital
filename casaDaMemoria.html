<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Casa da Memória - Turismo Digital Capixaba</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css">
</head>

<body>
  <!-- Inclui o cabeçalho -->
  <div id="header-placeholder"></div>

  <div class="container mt-5">
    <!-- Título Principal -->
    <h1 class="text-center mb-4">Casa da Memória</h1>

    <!-- Vídeo e Descrição da Casa da Memória -->
    <div class="row mb-5">
      <div class="col-12 col-md-10 offset-md-1">
        <div class="video-container text-center">
          <!-- Vídeo 360º -->
          <div class="embed-responsive embed-responsive-16by9">
            <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/3ySIBVWKGmU"
              title="YouTube video player" frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
          </div>
        </div>
        <p class="mt-4 text-justify">A <strong>Casa da Memória</strong>, localizada em <strong>Vila Velha, Espírito
            Santo, Brasil</strong>, é uma edificação histórica que remonta ao final do século XIX. Situada no sítio
          histórico da Prainha, a casa é um museu etnográfico que preserva e exibe a rica história cultural da região.
          Construída em 1893, a Casa da Memória foi restaurada e inaugurada como museu em 1994.</p>
        <p class="mt-4 text-justify">O museu abriga uma vasta coleção de artefatos e documentos que narram a evolução
          histórica e cultural de Vila Velha e seus habitantes. Através de exposições permanentes e temporárias, a Casa
          da Memória oferece aos visitantes uma imersão na vida e nas tradições do povo capixaba.</p>
      </div>
    </div>

    <!-- Galeria de Tour Virtual -->
    <h2 class="text-center mb-4">Tour Virtual</h2>
    <div class="row mb-5">
      <div class="col-12 col-sm-6 col-md-4">
        <div id="casaDaMemoria1" style="width: 100%; height: 500px;"></div>
        <p class="text-center">Sala 1</p>
      </div>
      <div class="col-12 col-sm-6 col-md-4">
        <div id="casaDaMemoria2" style="width: 100%; height: 500px;"></div>
        <p class="text-center">Sala 2</p>
      </div>
      <div class="col-12 col-sm-6 col-md-4">
        <div id="casaDaMemoria3" style="width: 100%; height: 500px;"></div>
        <p class="text-center">Sala 3</p>
      </div>
    </div>

    <!-- Atividades na Igreja -->
    <h2 class="text-center mb-4">Atividades</h2>
    <div class="row mb-5 text-center activity-icon">
      <div class="col-6 col-md-2">
        <div class="activity-icon">
          <i class="fas fa-landmark fa-3x"></i>
          <p class="mt-2">Museu</p>
        </div>
      </div>
    </div>
  </div>

  <audio id="garrafa" src="garrafa.mp3"></audio>
  
  <audio id="cadeira" src="cadeira.ogg"></audio>
  
  <!-- Local onde o rodapé será inserido -->
  <div id="footer-placeholder"></div>
  
  
  <!-- Inclui os scripts -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"></script>
  
  <script>
    pannellum.viewer('casaDaMemoria1', {
      "type": "equirectangular",
      "panorama": "casaDaMemoria2.jpg",
      "autoLoad": true,
      "autoRotate": -2,
      "hotSpots": [
        {
          "pitch": 8,
          "yaw": -22,
          "type": "custom",
          "createTooltipFunc": criarPopup,
          "createTooltipArgs": {
            "content": ""
          }
        },
        {
          "pitch": 8,
          "yaw": -6,
          "type": "custom",
          "createTooltipFunc": criarPopup,
          "createTooltipArgs": {
            "content": ""
          }
        },
        {
          "pitch": 8,
          "yaw": 4,
          "type": "custom",
          "createTooltipFunc": criarPopup,
          "createTooltipArgs": {
            "content": "A televisão é usada para assistir programas, filmes e séries."
          }
        },
        {
          "pitch": 8,
          "yaw": 10,
          "type": "custom",
          "createTooltipFunc": criarPopup,
          "createTooltipArgs": {
            "content": "A televisão é usada para assistir programas, filmes e séries."
          }
        },
        {
          "pitch": -16,
          "yaw": -22,
          "type": "custom",
          "createTooltipFunc": criarPopup,
          "createTooltipArgs": {
            "content": ""
          }
        },
        {
          "pitch": -16,
          "yaw": -12,
          "type": "custom",
          "createTooltipFunc": criarPopup,
          "createTooltipArgs": {
            "content": ""
          }
        },
        {
          "pitch": -16,
          "yaw": 4,
          "type": "custom",
          "createTooltipFunc": criarPopup,
          "createTooltipArgs": {
            "content": "A televisão é usada para assistir programas, filmes e séries."
          }
        },
        {
          "pitch": -36,
          "yaw": -22,
          "type": "custom",
          "createTooltipFunc": criarPopup,
          "createTooltipArgs": {
            "content": "A televisão é usada para assistir programas, filmes e séries."
          }
        }
      ]
    });
    pannellum.viewer('casaDaMemoria2', {
      "type": "equirectangular",
      "panorama": "casaDaMemoria1.jpg",
      "autoLoad": true,
      "autoRotate": -2,
      "hotSpots": [
        {
          "pitch": 3,
          "yaw": 0,
          "type": "custom",
          "createTooltipFunc": criarPopup,
          "createTooltipArgs": {
            "content": "Abra ab ac."
          }
        },
        {
          "pitch": 0,  // Posição vertical
          "yaw": -20,   // Posição horizontal
          "type": "info",
          "text": "Garrafa",
          "clickHandlerFunc": function () {
            var audio = document.getElementById('tapete');
            audio.play();  // Reproduz o áudio
          }
        }
      ]
    });
    pannellum.viewer('casaDaMemoria3', {
      "type": "equirectangular",
      "panorama": "casaDaMemoria4.jpg",
      "autoLoad": true,
      "autoRotate": -2,
      "hotSpots": [
        {
          "pitch": 3,
          "yaw": 0,
          "type": "custom",
          "createTooltipFunc": criarPopup,
          "createTooltipArgs": {
            "content": "Abra ab ac."
          }
        },
        {
          "pitch": 0,  // Posição vertical
          "yaw": -20,   // Posição horizontal
          "type": "info",
          "text": "Garrafa",
          "clickHandlerFunc": function () {
            var audio = document.getElementById('tapete');
            audio.play();  // Reproduz o áudio
          }
        }
      ]
    });

    // Função que cria a popup dentro da imagem 360
    function criarPopup(hotSpotDiv, args) {
      hotSpotDiv.classList.add('custom-tooltip');

      var popup = document.createElement('div');
      popup.className = 'popup';
      popup.innerHTML = '<p>' + args.content + '</p><button class="fechar-btn">Fechar</button>';
      hotSpotDiv.appendChild(popup);

      // Torna a popup visível quando o usuário clica no hotspot
      hotSpotDiv.addEventListener('click', function () {
        var allPopups = document.querySelectorAll('.popup');
        allPopups.forEach(function (p) { p.style.display = 'none'; }); // Fecha todas as popups abertas
        popup.style.display = 'block'; // Abre a popup do hotspot clicado
      });

      // Função para fechar a popup quando o botão for clicado
      popup.querySelector('.fechar-btn').addEventListener('click', function (event) {
        event.stopPropagation(); // Evita o clique de fechar abrir novamente a popup
        popup.style.display = 'none'; // Esconde a popup
      });
    }
  </script>  

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="script.js"></script>
</body>

</html>